<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="utf-8" />
	<title>Latest Hot Global Drama | Watch Full Movie Online | Asia CJK Drama|Cocomovie.top</title>
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<meta
		content="Cocomovie.top focuses on popular global short dramas, daily updating Europe and the United States, Southeast Asia and Southeast Asia, Japan and South Korea, sweet favourite and other explosive micro short dramas! Watch free previews in Genuine HD, one-click to catch up with the high popularity of subjects such as rebellion, revenge, and mansion, and find a list of short dramas that belongs to you."
		name="description" />
	<!-- 引入 Swiper 样式 -->
	<link rel="stylesheet" href="https://unpkg.com/swiper/swiper-bundle.min.css">

	<!-- 异步加载广告脚本 -->
	<script src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-7976057848601572"
		async></script>

	<!-- Google Tag Manager -->
	<script>
		(function (w, d, s, l, i) {
			w[l] = w[l] || [];
			w[l].push({ 'gtm.start': new Date().getTime(), event: 'gtm.js' });
			var f = d.getElementsByTagName(s)[0],
				j = d.createElement(s),
				dl = l != 'dataLayer' ? '&l=' + l : '';
			j.async = true;
			j.src =
				'https://www.googletagmanager.com/gtm.js?id=' + i + dl;
			f.parentNode.insertBefore(j, f);
		})(window, document, 'script', 'dataLayer', 'GTM-TS48XJVF');
	</script>
	<!-- End Google Tag Manager -->

	<style>
		/* 让页面不出现水平方向滚动 */
		html,
		body {
			margin: 0;
			padding: 0;
			max-width: 100%;
			overflow-x: hidden;
			font-family: Arial, sans-serif;
			text-align: center;
		}

		/* ----------------------- 容器与标题 ----------------------- */
		.container {
			text-align: center;
			padding: 0 10px;
			/* 为防止固定导航栏遮挡，预留底部空间 */
			padding-bottom: 60px;
			box-sizing: border-box;
		}

		.title {
			color: red;
			padding: 10px;
			border-radius: 4px;
			/* 如果屏幕过小，54px 字体可能过大；可用响应式或换算单位 */
			font-size: 54px;
			margin-bottom: 5px;
			display: flex;
			align-items: center;
			justify-content: center;
		}

		@media (max-width: 600px) {

			/* 小屏时，让标题更小一点，避免撑宽 */
			.title {
				font-size: 32px;
			}
		}

		.title img {
			margin-right: 10px;
			height: 24px;
			width: auto;
		}

		.gradient-box {
			background: linear-gradient(to right, #ff7e5f, #feb47b);
			height: 10px;
			margin-bottom: 10px;
		}

		/* ----------------------- 轮播图样式 ----------------------- */
		.swiper-container {
			width: 100%;
			max-width: 800px;
			position: relative;
			margin: 0 auto 20px auto;
			/* 16:9 纵横比，通过 padding-bottom 来维持高度 */
			height: 0;
			padding-bottom: 56.25%;
			box-sizing: border-box;
		}

		.swiper-wrapper {
			position: absolute;
			top: 0;
			left: 0;
			width: 100%;
			height: 100%;
		}

		.swiper-slide {
			text-align: center;
			position: relative;
			width: 100%;
			height: 100%;
		}

		.swiper-slide img {
			width: 100%;
			height: 100%;
			object-fit: cover;
			display: block;
		}

		.swiper-button-prev,
		.swiper-button-next {
			color: #fff;
		}

		.swiper-pagination-bullet {
			background: rgba(0, 0, 0, 0.5);
		}

		.swiper-pagination-bullet-active {
			background: #fff;
		}

		/* ----------------------- 内容区域 ----------------------- */
		.content-section {
			margin: 20px 0;
			text-align: left;
			padding: 0 15px;
			box-sizing: border-box;
		}

		.content-section h2 {
			color: #333;
		}

		.content-section p {
			color: #666;
			line-height: 1.5;
		}

		.search-bar {
			display: flex;
			justify-content: center;
			align-items: center;
			margin-bottom: 20px;
			flex-wrap: wrap;
		}

		.tab-select,
		.search-input {
			padding: 8px;
			cursor: pointer;
			border: 1px solid #ccc;
			margin: 5px;
			width: 100%;
			max-width: 180px;
			font-size: 16px;
			border-radius: 20px;
			box-sizing: border-box;
		}

		.subtitle {
			color: #e21111;
			padding: 10px;
			font-size: 20px;
			display: flex;
			align-items: center;
			justify-content: center;
			margin: 0;
		}

		.subtitle img {
			margin-right: 8px;
			height: 24px;
			width: auto;
		}

		.hidden {
			display: none;
		}

		/* ----------------------- 缩略图及新结构样式 ----------------------- */
		.thumbnail-container {
			display: flex;
			flex-wrap: wrap;
			justify-content: center;
			gap: 10px;
		}

		.thumbnail {
			border: 1px solid #ddd;
			border-radius: 8px;
			overflow: hidden;
			margin: 10px;
			display: flex;
			flex-direction: column;
			background: #fff;
			width: 30%;
			box-sizing: border-box;
		}

		.thumb-image {
			cursor: pointer;
			width: 100%;
			overflow: hidden;
		}

		.thumb-image img {
			width: 100%;
			height: auto;
			display: block;
		}

		.episode-info {
			padding: 10px;
			text-align: center;
			background: #f9f9f9;
		}

		.episode-info .episode-title {
			font-size: 16px;
			font-weight: bold;
			color: #333;
			cursor: pointer;
			display: block;
			margin-bottom: 8px;
		}

		.episode-info .preview-btn {
			padding: 8px 16px;
			font-size: 14px;
			border: none;
			background: #ff7e5f;
			color: #fff;
			border-radius: 4px;
			cursor: pointer;
			transition: background 0.3s ease;
		}

		.episode-info .preview-btn:hover {
			background: #feb47b;
		}

		/* ----------------------- 响应式调整 ----------------------- */
		@media (max-width: 1024px) {
			.thumbnail {
				width: calc(33.33% - 20px);
				margin: 10px;
			}
		}

		@media (max-width: 600px) {
			.thumbnail {
				width: calc(50% - 20px);
				margin: 10px;
			}

			.episode-info .episode-title {
				font-size: 14px;
			}

			.episode-info .preview-btn {
				font-size: 12px;
				padding: 6px 12px;
			}
		}

		@media (max-width: 400px) {
			.thumbnail {
				width: calc(100% - 20px);
				margin: 10px auto;
			}
		}

		/* ----------------------- 底部固定导航栏 ----------------------- */
		#bottomNav {
			position: fixed;
			bottom: 0;
			left: 0;
			width: 100%;
			background: #fff;
			border-top: 1px solid #ddd;
			display: flex;
			justify-content: space-around;
			align-items: center;
			padding: 10px 0;
			z-index: 9999;
			box-sizing: border-box;
		}

		#bottomNav a {
			text-decoration: none;
			color: #333;
			font-weight: bold;
			flex: 1;
			text-align: center;
			position: relative;
			/* 为放置小红点做准备 */
		}

		@media (max-width: 600px) {
			#bottomNav a {
				font-size: 18px;
			}
		}

		/* 小红点 + 简单脉冲动画 */
		.red-dot {
			position: absolute;
			top: -5px;
			right: -10px;
			width: 10px;
			height: 10px;
			background: red;
			border-radius: 50%;
			animation: pulse 1.2s infinite;
		}

		@keyframes pulse {
			0% {
				transform: scale(1);
				opacity: 1;
			}

			50% {
				transform: scale(1.5);
				opacity: 0.4;
			}

			100% {
				transform: scale(1);
				opacity: 1;
			}
		}
	</style>
</head>

<body>
	<!-- Google Tag Manager (noscript) -->
	<script>
		window.addEventListener('load', function () {
			var gtm = document.createElement('script');
			gtm.src = 'https://www.googletagmanager.com/gtm.js?id=GTM-TS48XJVF';
			gtm.async = true;
			document.body.appendChild(gtm);
		});
	</script>
	<!-- End Google Tag Manager (noscript) -->

	<!-- 示例：右上角放一个语言切换的 select 下拉 -->
	<div style="position: absolute; top: 10px; right: 10px;">
		<select id="langSelect">
			<option value="https://cocomovie.top" data-lang="en">English</option>
			<option value="https://es.cocomovie.top" data-lang="es">Español</option>
			<!-- 可加更多语言 -->
		</select>
	</div>
	<script>
		// 页面载入时，根据当前域名预选中下拉项
		const currentHost = location.hostname; // e.g. "cocomovie.top"
		const langSelect = document.getElementById("langSelect");

		for (let i = 0; i < langSelect.options.length; i++) {
			if (langSelect.options[i].value.includes(currentHost)) {
				langSelect.selectedIndex = i;
				break;
			}
		}
		// 切换事件：跳转到对应子域名
		langSelect.addEventListener("change", function () {
			window.location.href = this.value;
		});
	</script>

	<div class="container">
		<div class="title">
			<img alt="Icon" src="hot.webp" />
			Hot Drama
		</div>
		<div class="gradient-box"></div>

		<!-- 轮播图 -->
		<div class="swiper-container">
			<div class="swiper-wrapper">
				<div class="swiper-slide">
					<a href="https://short.kalostv.com/api/short/jump/675c53f73a3c9" target="_blank">
						<img alt="Image 1" src="ii1.webp" />
					</a>
				</div>
				<div class="swiper-slide">
					<a href="https://short.kalostv.com/api/short/jump/675c534ac599d" target="_blank">
						<img alt="Image 2" src="ii2.webp" />
					</a>
				</div>
				<div class="swiper-slide">
					<a href="https://short.kalostv.com/api/short/jump/675c531156f4f" target="_blank">
						<img alt="Image 3" src="ii3.webp" />
					</a>
				</div>
				<div class="swiper-slide">
					<a href="https://short.kalostv.com/api/short/jump/675c53f73a3c9" target="_blank">
						<img alt="Image 4" src="ii4.webp" />
					</a>
				</div>
				<div class="swiper-slide">
					<a href="https://short.kalostv.com/api/short/jump/675c8297121ed" target="_blank">
						<img alt="Image 5" src="ii5.webp" />
					</a>
				</div>
				<div class="swiper-slide">
					<a href="https://short.kalostv.com/api/short/jump/675c52b1b2dd8" target="_blank">
						<img alt="Image 6" src="ii6.webp" />
					</a>
				</div>
			</div>
			<!-- 左右导航按钮 -->
			<div class="swiper-button-prev"></div>
			<div class="swiper-button-next"></div>
			<!-- 分页器 -->
			<div class="swiper-pagination"></div>
		</div>

		<!-- 新内容区域 -->
		<div class="subtitle">
			<img alt="Icon" src="search.webp" />
			Search More Drama
		</div>
		<div class="gradient-box"></div>

		<div class="content-section">
			<div class="search-bar">
				<select class="tab-select" id="tabSelect" onchange="changeTab(this.value)">
					<option value="0">English</option>
					<option value="1">Indonesian</option>
					<option value="2">Spanish</option>
					<option value="3">French</option>
					<option value="4">Korean</option>
					<option value="5">Japanese</option>
					<option value="6">German</option>
					<option value="7">Thai</option>
					<option value="8">Traditional Chinese</option>
				</select>
				<input class="search-input" id="searchInput" onkeyup="filterThumbnails()" placeholder="Search Drama"
					type="text" />
			</div>

			<div class="thumbnail-container" id="thumbnailContainer"></div>

			<div style="text-align: center; margin: 20px;">
				<button id="loadMoreBtn">Load More</button>
			</div>

			<script>
				function changeTab(selectedValue) {
					currentTab = selectedValue;
					const container = document.getElementById("thumbnailContainer");
					container.innerHTML = "";
					loadedCounts[selectedValue] = 0;
					loadThumbnails(selectedValue);
				}
			</script>
		</div>
	</div>

	<!-- 引入剧集数据(需确保 thumbnailsData.js 存在且路径正确) -->
	<script src="thumbnailsData.js"></script>

	<!-- 全局变量定义 -->
	<script>
		let currentTab = "0"; // 默认英语类别
		const batchSize = 50;
		const loadedCounts = {};

		// 按批次加载函数
		function loadThumbnails(tab) {
			const container = document.getElementById("thumbnailContainer");
			if (!loadedCounts[tab]) {
				loadedCounts[tab] = 0;
			}
			const startIndex = loadedCounts[tab];
			const thumbnailsArray = thumbnailsData[tab] || [];
			const endIndex = Math.min(startIndex + batchSize, thumbnailsArray.length);

			for (let i = startIndex; i < endIndex; i++) {
				const tempDiv = document.createElement("div");
				tempDiv.innerHTML = thumbnailsArray[i];
				container.appendChild(tempDiv.firstElementChild);
			}
			loadedCounts[tab] = endIndex;

			const loadMoreBtn = document.getElementById("loadMoreBtn");
			loadMoreBtn.style.display =
				loadedCounts[tab] >= thumbnailsArray.length ? "none" : "block";
		}

		// 点击事件：预览/跳转
		document.getElementById("thumbnailContainer").addEventListener("click", function (event) {
			if (!event.isTrusted) return;

			// 点击“点击预览”按钮
			if (event.target.closest(".preview-btn")) {
				const thumbnailEl = event.target.closest(".thumbnail");
				const videoUrl = thumbnailEl.getAttribute("data-video");
				if (videoUrl) {
					window.location.href = 'videoPlayer.html?videoUrl=' + encodeURIComponent(videoUrl);
				}
				event.stopPropagation();
				return;
			}

			// 点击缩略图区域或剧集标题
			if (event.target.closest(".thumb-image") || event.target.closest(".episode-title")) {
				const thumbnailEl = event.target.closest(".thumbnail");
				const commissionUrl = thumbnailEl.getAttribute("data-commission");
				if (commissionUrl) {
					window.open(commissionUrl, '_blank');
				}
				event.stopPropagation();
				return;
			}
		});

		// 页面加载后延时加载剧集数据
		document.addEventListener("DOMContentLoaded", function () {
			setTimeout(function () {
				loadThumbnails(currentTab);
			}, 100);
		});
	</script>

	<!-- 引入 Swiper 脚本 -->
	<script src="https://unpkg.com/swiper/swiper-bundle.min.js"></script>
	<script>
		var mySwiper = new Swiper('.swiper-container', {
			loop: true,
			autoplay: {
				delay: 1500,
				disableOnInteraction: true,
			},
			navigation: {
				nextEl: '.swiper-button-next',
				prevEl: '.swiper-button-prev',
			},
			pagination: {
				el: '.swiper-pagination',
				clickable: true,
			},
			speed: 1000,
		});
	</script>

	<script>
		// 搜索过滤
		function filterThumbnails() {
			const searchTerm = document.getElementById("searchInput").value.trim().toLowerCase();
			const tab = currentTab;
			const container = document.getElementById("thumbnailContainer");
			container.innerHTML = "";

			if (!thumbnailsData[tab]) return;

			if (searchTerm === "") {
				loadedCounts[tab] = 0;
				loadThumbnails(tab);
				document.getElementById("loadMoreBtn").style.display = "block";
				return;
			}

			const allItems = thumbnailsData[tab];
			let filteredItems = allItems.filter(item => {
				return item.toLowerCase().includes(searchTerm);
			});

			filteredItems.forEach(htmlSnippet => {
				let tempDiv = document.createElement("div");
				tempDiv.innerHTML = htmlSnippet;
				container.appendChild(tempDiv.firstElementChild);
			});
			document.getElementById("loadMoreBtn").style.display = "none";
		}

		// “Load More”按钮
		document.addEventListener("DOMContentLoaded", function () {
			setTimeout(function () {
				loadThumbnails(currentTab);
			}, 100);

			document.getElementById("loadMoreBtn").addEventListener("click", function () {
				loadThumbnails(currentTab);
			});
		});
	</script>

	<!-- 底部导航栏：带小红点 (含动画) -->
	<nav id="bottomNav">
		<!-- 首页 -->
		<a href="index.html">Home page</a>

		<!-- 热播榜 带小红点 -->
		<a href="hotlist.html" style="position: relative;">
			Hot broadcast
			<span class="red-dot"></span>
		</a>
	</nav>
</body>

</html>