<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="utf-8" />
	<title>Latest Hot Global Drama | Watch Full Movie Online | Asia CJK Drama|Cocomovie.top</title>
	<meta name="viewport" content="width=device-width, initial-scale=1.0" />
	<meta name="description"
		content="Cocomovie.top focuses on popular global short dramas, daily updating Europe and the United States, Southeast Asia and Southeast Asia, Japan and South Korea, sweet favourite and other explosive micro short dramas! Watch free previews in Genuine HD, one-click to catch up with the high popularity of subjects such as rebellion, revenge, and mansion, and find a list of short dramas that belongs to you.">
	<!-- 异步加载 Swiper 样式 -->
	<link rel="preload" as="style" href="https://unpkg.com/swiper/swiper-bundle.min.css"
		onload="this.onload=null;this.rel='stylesheet'" />
	<noscript>
		<link rel="stylesheet" href="https://unpkg.com/swiper/swiper-bundle.min.css" />
	</noscript>
	<!-- 异步加载广告脚本 -->
	<script async
		src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-7976057848601572"></script>

	<!-- Google Tag Manager 脚本已移至底部延迟加载 -->
	<style>
		/* 让页面不出现水平方向滚动 */
		html,
		body {
			margin: 0;
			padding: 0;
			max-width: 100%;
			overflow-x: hidden;
			font-family: Arial, sans-serif;
			text-align: center;
		}

		/* ----------------------- 容器与标题 ----------------------- */
		.container {
			text-align: center;
			padding: 0 10px;
			/* 为防止固定导航栏遮挡，预留底部空间 */
			padding-bottom: 60px;
			box-sizing: border-box;
		}

		.title {
			color: red;
			padding: 10px;
			border-radius: 4px;
			font-size: 54px;
			margin-bottom: 5px;
			display: flex;
			align-items: center;
			justify-content: center;
		}

		@media (max-width: 600px) {

			/* 小屏时，让标题更小一点，避免撑宽 */
			.title {
				font-size: 32px;
			}
		}

		.title img {
			margin-right: 10px;
			height: 24px;
			width: auto;
		}

		.gradient-box {
			background: linear-gradient(to right, #ff7e5f, #feb47b);
			height: 10px;
			margin-bottom: 10px;
		}

		/* ----------------------- 轮播图样式 ----------------------- */
		.swiper-container {
			width: 100%;
			max-width: 800px;
			position: relative;
			margin: 0 auto 20px auto;
			/* 16:9 纵横比，通过 padding-bottom 来维持高度 */
			height: 0;
			padding-bottom: 56.25%;
			box-sizing: border-box;
		}

		.swiper-wrapper {
			position: absolute;
			top: 0;
			left: 0;
			width: 100%;
			height: 100%;
		}

		.swiper-slide {
			text-align: center;
			position: relative;
			width: 100%;
			height: 100%;
		}

		.swiper-slide img {
			width: 100%;
			height: 100%;
			object-fit: cover;
			display: block;
		}

		.swiper-button-prev,
		.swiper-button-next {
			color: #fff;
		}

		.swiper-pagination-bullet {
			background: rgba(0, 0, 0, 0.5);
		}

		.swiper-pagination-bullet-active {
			background: #fff;
		}

		/* ----------------------- 内容区域 ----------------------- */
		.content-section {
			margin: 20px 0;
			text-align: left;
			padding: 0 15px;
			box-sizing: border-box;
		}

		.content-section h2 {
			color: #333;
		}

		.content-section p {
			color: #666;
			line-height: 1.5;
		}

		.search-bar {
			display: flex;
			justify-content: center;
			align-items: center;
			margin-bottom: 20px;
			flex-wrap: wrap;
		}

		.tab-select,
		.search-input {
			padding: 8px;
			cursor: pointer;
			border: 1px solid #ccc;
			margin: 5px;
			width: 100%;
			max-width: 180px;
			font-size: 16px;
			border-radius: 20px;
			box-sizing: border-box;
		}

		.subtitle {
			color: #e21111;
			padding: 10px;
			font-size: 20px;
			display: flex;
			align-items: center;
			justify-content: center;
			margin: 0;
		}

		.subtitle img {
			margin-right: 8px;
			height: 24px;
			width: auto;
		}

		.hidden {
			display: none;
		}

		/* ----------------------- 缩略图及新结构样式 ----------------------- */
		.thumbnail-container {
			display: flex;
			flex-wrap: wrap;
			justify-content: center;
			gap: 10px;
		}

		.thumbnail {
			border: 1px solid #ddd;
			border-radius: 8px;
			overflow: hidden;
			margin: 10px;
			display: flex;
			flex-direction: column;
			background: #fff;
			width: 30%;
			box-sizing: border-box;
			position: relative;
			/* 为了定位热度值标签 */
		}

		.thumb-image {
			cursor: pointer;
			width: 100%;
			overflow: hidden;
			position: relative;
			/* 让热度值定位于内部 */
		}

		.thumb-image img {
			width: 100%;
			height: auto;
			display: block;
		}

		/* 新增：左上角热度值标签样式 */
		.hot-value-label {
			position: absolute;
			top: 0;
			left: 0;
			background-color: red;
			color: #fff;
			padding: 4px 8px;
			font-size: 12px;
			font-weight: bold;
			border-bottom-right-radius: 6px;
		}

		.episode-info {
			padding: 10px;
			text-align: center;
			background: #f9f9f9;
		}

		.episode-info .episode-title {
			font-size: 16px;
			font-weight: bold;
			color: #333;
			cursor: pointer;
			display: block;
			margin-bottom: 8px;
		}

		.episode-info .preview-btn {
			padding: 8px 16px;
			font-size: 14px;
			border: none;
			background: #ff7e5f;
			color: #fff;
			border-radius: 4px;
			cursor: pointer;
			transition: background 0.3s ease;
		}

		.episode-info .preview-btn:hover {
			background: #feb47b;
		}

		/* 自定义变量，便于后续调整 */
		:root {
			--scroll-speed: 25s;
			/* 文字滚动一轮所需时间 */
			--font-size: 1.125rem;
			/* 公告文字大小 */
			--font-family: "Arial, sans-serif";
			/* 公告字体 */
		}

		/* 公告容器（PC 端全宽显示，手机端则可适当收窄边距） */
		#site-announcement {
			overflow: hidden;
			/* 隐藏超出部分 */
			background-color: #fffbe8;
			/* 柔和背景 */
			color: #333;
			/* 文字颜色 */
			border: 1px solid #ffd700;
			/* 边框 */
			padding: 1rem 0;
			/* 垂直内边距 */
			margin: 0;
			/* PC端全宽显示 */
			width: 100vw;
			/* 占满视口宽度 */
			box-sizing: border-box;
			border-radius: 0;
			/* PC端全宽时可去掉圆角 */
		}

		/* 滚动文字 */
		#site-announcement .ticker {
			display: inline-block;
			white-space: nowrap;
			/* 保持一行显示 */
			font-size: var(--font-size);
			font-family: var(--font-family);
			/* 初始10%保持静止，后续滚动 */
			animation: scroll var(--scroll-speed) linear infinite;
		}

		/* 关键帧动画：0%～10%时文字保持原位，随后开始从右向左滚动 */
		@keyframes scroll {

			0%,
			10% {
				transform: translateX(0);
			}

			100% {
				transform: translateX(-100%);
			}
		}

		/* 手机和平板端优化（增加左右内边距） */
		@media (max-width: 768px) {
			#site-announcement {
				padding: 1rem;
				width: 90%;
				/* 手机端可适当缩窄 */
				margin: 1rem auto;
				/* 居中显示 */
				border-radius: 0.5rem;
				/* 增加圆角效果 */
			}

			#site-announcement .ticker {
				font-size: calc(var(--font-size) * 0.9);
			}
		}

		/* ----------------------- 响应式调整 ----------------------- */
		@media (max-width: 1024px) {
			.thumbnail {
				width: calc(33.33% - 20px);
				margin: 10px;
			}
		}

		@media (max-width: 600px) {
			.thumbnail {
				width: calc(50% - 20px);
				margin: 10px;
			}

			.episode-info .episode-title {
				font-size: 14px;
			}

			.episode-info .preview-btn {
				font-size: 12px;
				padding: 6px 12px;
			}
		}

		@media (max-width: 400px) {
			.thumbnail {
				width: calc(100% - 20px);
				margin: 10px auto;
			}
		}

		/* ----------------------- 底部固定导航栏 ----------------------- */
		#bottomNav {
			position: fixed;
			bottom: 0;
			left: 0;
			width: 100%;
			background: #fff;
			border-top: 1px solid #ddd;
			display: flex;
			justify-content: space-around;
			align-items: center;
			padding: 10px 0;
			z-index: 9999;
			box-sizing: border-box;
		}

		#bottomNav a {
			text-decoration: none;
			color: #333;
			font-weight: bold;
			flex: 1;
			text-align: center;
			position: relative;
		}

		@media (max-width: 600px) {
			#bottomNav a {
				font-size: 18px;
			}
		}
	</style>
</head>

<body>
	<!-- Google Tag Manager (noscript) 部分已移除，使用底部延迟加载方式 -->

	<!-- 示例：右上角放一个语言切换的 select 下拉 -->
	<div style="position: absolute; top: 10px; right: 10px;">
		<select id="langSelect">
			<option value="https://cocomovie.top" data-lang="en">English</option>
			<option value="https://es.cocomovie.top" data-lang="es">Español</option>
			<!-- 可加更多语言 -->
		</select>
	</div>
	<script>
		// 页面载入时，根据当前域名预选中下拉项
		const currentHost = location.hostname; // e.g. "cocomovie.top"
		const langSelect = document.getElementById("langSelect");

		for (let i = 0; i < langSelect.options.length; i++) {
			if (langSelect.options[i].value.includes(currentHost)) {
				langSelect.selectedIndex = i;
				break;
			}
		}
		// 切换事件：跳转到对应子域名
		langSelect.addEventListener("change", function () {
			window.location.href = this.value;
		});
	</script>

	<div class="container">
		<div class="title">
			<img src="hot.webp" alt="Icon" />
			Hot Drama
		</div>
		<div class="gradient-box"></div>

		<!-- 轮播图 -->
		<div class="swiper-container">
			<div class="swiper-wrapper">
				<div class="swiper-slide">
					<a href="https://short.kalostv.com/api/short/jump/675c53f73a3c9" target="_blank">
						<img src="ii1.webp" alt="Image 1" width="800" height="450" />
					</a>
				</div>
				<div class="swiper-slide">
					<a href="https://short.kalostv.com/api/short/jump/675c534ac599d" target="_blank">
						<img src="ii2.webp" alt="Image 2" width="800" height="450" />
					</a>
				</div>
				<div class="swiper-slide">
					<a href="https://short.kalostv.com/api/short/jump/675c531156f4f" target="_blank">
						<img src="ii3.webp" alt="Image 3" width="800" height="450" />
					</a>
				</div>
				<div class="swiper-slide">
					<a href="https://short.kalostv.com/api/short/jump/675c53f73a3c9" target="_blank">
						<img src="ii4.webp" alt="Image 4" width="800" height="450" />
					</a>
				</div>
				<div class="swiper-slide">
					<a href="https://short.kalostv.com/api/short/jump/675c8297121ed" target="_blank">
						<img src="ii5.webp" alt="Image 5" width="800" height="450" />
					</a>
				</div>
				<div class="swiper-slide">
					<a href="https://short.kalostv.com/api/short/jump/675c52b1b2dd8" target="_blank">
						<img src="ii6.webp" alt="Image 6" width="800" height="450" />
					</a>
				</div>
			</div>
			<!-- 左右导航按钮 -->
			<div class="swiper-button-prev"></div>
			<div class="swiper-button-next"></div>
			<!-- 分页器 -->
			<div class="swiper-pagination"></div>
		</div>

		<div id="site-announcement">
			<div class="ticker">
				All episodes on this site are the latest and hottest short dramas from around the world, licensed,
				click on the image to watch the full episode.
				(A small number of advertised episodes have not been uploaded on this site, click on any of the images
				to go to the main site to watch the whole episode.)

				If you don't know what to watch, click on HOT BROADCAST!
			</div>
		</div>

		<!-- 新内容区域 -->
		<div class="subtitle">
			<img src="search.webp" alt="Icon" />
			Search More Drama
		</div>
		<div class="gradient-box"></div>

		<div class="content-section">
			<div class="search-bar">
				<!-- 1. 语言下拉，多补充几个映射示例 -->
				<select class="tab-select" id="tabSelect" onchange="changeTab(this.value)">
					<option value="0">English</option>
					<option value="1">Indonesian</option>
					<option value="2">Spanish</option>
					<option value="3">French</option>
					<option value="4">Korean</option>
					<option value="5">Japanese</option>
					<option value="6">German</option>
					<option value="7">Thai</option>
					<option value="8">Traditional Chinese</option>
					<!-- 新增示例语言 -->
					<option value="9">Portuguese</option>
					<option value="10">Arabic</option>
				</select>
				<input class="search-input" id="searchInput" type="text" placeholder="Search Drama"
					onkeyup="filterThumbnails()" />
			</div>

			<div class="thumbnail-container" id="thumbnailContainer"></div>

			<div style="text-align: center; margin: 20px;">
				<button id="loadMoreBtn">Load More</button>
			</div>
		</div>
	</div>

	<!-- 引入剧集数据(需确保 thumbnailsData.js 存在且路径正确) -->
	<script src="thumbnailsData.js"></script>

	<!-- 全局变量定义 -->
	<script>
		let currentTab = "0"; // 默认英语类别
		const batchSize = 50;
		const loadedCounts = {};

		// 按批次加载函数
		function loadThumbnails(tab) {
			const container = document.getElementById("thumbnailContainer");
			if (!loadedCounts[tab]) {
				loadedCounts[tab] = 0;
			}
			const startIndex = loadedCounts[tab];
			const thumbnailsArray = thumbnailsData[tab] || [];
			const endIndex = Math.min(startIndex + batchSize, thumbnailsArray.length);

			for (let i = startIndex; i < endIndex; i++) {
				const tempDiv = document.createElement("div");
				tempDiv.innerHTML = thumbnailsArray[i];
				const newThumbnail = tempDiv.firstElementChild;
				container.appendChild(newThumbnail);

				// 1) 将 data-hotvalue 写入左上角红色标签
				const hotValue = newThumbnail.getAttribute('data-hotvalue');
				if (hotValue) {
					// 在 .thumb-image 内插入一个标签显示热度值
					const thumbImageDiv = newThumbnail.querySelector('.thumb-image');
					if (thumbImageDiv) {
						const labelDiv = document.createElement('div');
						labelDiv.className = 'hot-value-label';
						labelDiv.textContent = hotValue;
						thumbImageDiv.appendChild(labelDiv);
					}
				}
			}
			loadedCounts[tab] = endIndex;

			const loadMoreBtn = document.getElementById("loadMoreBtn");
			loadMoreBtn.style.display =
				loadedCounts[tab] >= thumbnailsArray.length ? "none" : "block";
		}

		function changeTab(selectedValue) {
			currentTab = selectedValue;
			const container = document.getElementById("thumbnailContainer");
			container.innerHTML = "";
			loadedCounts[selectedValue] = 0;
			loadThumbnails(selectedValue);
		}

		// 搜索过滤
		function filterThumbnails() {
			const searchTerm = document.getElementById("searchInput").value.trim().toLowerCase();
			const tab = currentTab;
			const container = document.getElementById("thumbnailContainer");
			container.innerHTML = "";

			if (!thumbnailsData[tab]) return;

			if (searchTerm === "") {
				loadedCounts[tab] = 0;
				loadThumbnails(tab);
				document.getElementById("loadMoreBtn").style.display = "block";
				return;
			}

			const allItems = thumbnailsData[tab];
			let filteredItems = allItems.filter(item => {
				return item.toLowerCase().includes(searchTerm);
			});

			filteredItems.forEach(htmlSnippet => {
				let tempDiv = document.createElement("div");
				tempDiv.innerHTML = htmlSnippet;
				const newThumbnail = tempDiv.firstElementChild;

				// 同样处理热度值标签
				const hotValue = newThumbnail.getAttribute('data-hotvalue');
				if (hotValue) {
					const thumbImageDiv = newThumbnail.querySelector('.thumb-image');
					if (thumbImageDiv) {
						const labelDiv = document.createElement('div');
						labelDiv.className = 'hot-value-label';
						labelDiv.textContent = hotValue;
						thumbImageDiv.appendChild(labelDiv);
					}
				}

				container.appendChild(newThumbnail);
			});
			document.getElementById("loadMoreBtn").style.display = "none";
		}

		// 点击事件：预览/跳转
		document.getElementById("thumbnailContainer").addEventListener("click", function (event) {
			if (!event.isTrusted) return;

			// 点击“点击预览”按钮
			if (event.target.closest(".preview-btn")) {
				const thumbnailEl = event.target.closest(".thumbnail");
				const videoUrl = thumbnailEl.getAttribute("data-video");
				if (videoUrl) {
					window.location.href = 'videoPlayer.html?videoUrl=' + encodeURIComponent(videoUrl);
				}
				event.stopPropagation();
				return;
			}

			// 点击缩略图区域或剧集标题
			if (event.target.closest(".thumb-image") || event.target.closest(".episode-title")) {
				const thumbnailEl = event.target.closest(".thumbnail");
				const commissionUrl = thumbnailEl.getAttribute("data-commission");
				if (commissionUrl) {
					window.open(commissionUrl, '_blank');
				}
				event.stopPropagation();
				return;
			}
		});

		// 页面加载后延时加载剧集数据
		document.addEventListener("DOMContentLoaded", function () {
			setTimeout(function () {
				loadThumbnails(currentTab);
			}, 100);
		});
	</script>

	<!-- 引入 Swiper 脚本 -->
	<script src="https://unpkg.com/swiper/swiper-bundle.min.js"></script>
	<script>
		var mySwiper = new Swiper('.swiper-container', {
			loop: true,
			autoplay: {
				delay: 1500,
				disableOnInteraction: true,
			},
			navigation: {
				nextEl: '.swiper-button-next',
				prevEl: '.swiper-button-prev',
			},
			pagination: {
				el: '.swiper-pagination',
				clickable: true,
			},
			speed: 1000,
		});
	</script>

	<!-- “Load More”按钮逻辑 -->
	<script>
		document.addEventListener("DOMContentLoaded", function () {
			setTimeout(function () {
				loadThumbnails(currentTab);
			}, 100);

			document.getElementById("loadMoreBtn").addEventListener("click", function () {
				loadThumbnails(currentTab);
			});
		});
	</script>

	<!-- 底部导航栏 -->
	<nav id="bottomNav">
		<a href="index.html">Home page</a>
		<a href="hotlist/">
			<img src="hot.webp" alt="HOT" style="height:16px; vertical-align:middle; margin-right:4px;" />
			Hot broadcast
		</a>
	</nav>

	<!-- 延迟加载非关键脚本 -->
	<script>
		function loadScript(url, callback) {
			var script = document.createElement('script');
			script.src = url;
			script.async = true;
			script.onload = callback;
			document.body.appendChild(script);
		}

		window.addEventListener('load', function () {
			// 延迟 3000 毫秒加载 Google Tag Manager
			setTimeout(function () {
				loadScript('https://www.googletagmanager.com/gtm.js?id=GTM-TS48XJVF', function () {
					console.log('GTM 脚本已加载');
				});
			}, 3000);

			// 延迟 5000 毫秒加载广告脚本（根据需要）
			setTimeout(function () {
				loadScript('https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-7976057848601572', function () {
					console.log('广告脚本已加载');
				});
			}, 5000);
		});
	</script>
</body>

</html>